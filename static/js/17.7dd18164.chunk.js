(this["webpackJsonpgamevault-frontend"]=this["webpackJsonpgamevault-frontend"]||[]).push([[17],{1844:function(e,t,n){"use strict";var r=n(38),c=n(0),a=n(215),i=n.n(a),o=n(89),s=n(147);t.a=function(){var e=Object(o.c)().library,t=Object(c.useRef)(e),n=Object(c.useState)(e?new i.a(e):s.a),a=Object(r.a)(n,2),l=a[0],u=a[1];return Object(c.useEffect)((function(){e!==t.current&&(u(e?new i.a(e):s.a),t.current=e)}),[e]),l}},1870:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return m}));var r=n(1),c=n.n(r),a=n(13),i=n(38),o=n(0),s=n(1844),l=n(348),u=n(49),d=n(531),b=n(89),j=function(e){switch(e){case 1:return"eth";case 3:return"ropsten";case 56:return"bsc";case 97:return"bsc testnet";default:return"bsc"}},O=function(e,t,n){var r,l=Object(d.b)(),u=Object(b.c)().chainId;r=j(u);var O,m,h=Object(o.useState)(0),f=Object(i.a)(h,2),p=f[0],g=f[1],x=Object(o.useState)(0),v=Object(i.a)(x,2),k=v[0],w=v[1],y=Object(s.a)();try{O=y.utils.toChecksumAddress(e),m=y.utils.toChecksumAddress(t)}catch(P){console.error("Invalid staking and reward address")}return Object(o.useEffect)((function(){n&&function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.token.getTokenPrice({chain:r,address:O});case 3:return t=e.sent,n=t.usdPrice,e.next=7,l.token.getTokenPrice({chain:r,address:m});case 7:t=e.sent,a=t.usdPrice,g(n),w(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Unable to fetch data:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()()}),[g,w,O,m,l,r,n]),{stakingPrice:p,rewardPrice:k}},m=function(e,t,n){var r,b=Object(d.b)();r=j(t);var O=Object(o.useState)(0),m=Object(i.a)(O,2),h=m[0],f=m[1],p=Object(o.useState)(0),g=Object(i.a)(p,2),x=g[0],v=g[1],k=Object(s.a)();return Object(o.useEffect)((function(){var i;if(e){var o,s,d,j,O=Object(u.c)(new l.a(null!==(i=e.totalDeposits)&&void 0!==i?i:0)),m=e.token.address[t],h=e.pairToken.address[t],p=e.quoteToken.address[t],g=e.lpAddresses[t];try{o=k.utils.toChecksumAddress(m),s=k.utils.toChecksumAddress(h),d=k.utils.toChecksumAddress(p),j=k.utils.toChecksumAddress(g)}catch(w){console.error("Invalid staking and reward address")}var x=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.token.getTokenPrice({chain:r,address:t});case 2:return n=e.sent,a=n.usdPrice,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n&&function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,a,i,m,h,p,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=x(o),i=x(s),m=x(d),h=b.account.getTokenBalances({chain:r,address:j,token_addresses:[o,s]}),e.next=7,Promise.all([a,i,m,h]);case 7:p=e.sent,(g=p[3])[0].token_address.toLowerCase()===o.toLowerCase()?t=Object(u.c)(new l.a(g[0].balance),Number(g[0].decimals)):n=Object(u.c)(new l.a(g[0].balance),Number(g[0].decimals)),g[1].token_address.toLowerCase()===o.toLowerCase()?t=Object(u.c)(new l.a(g[1].balance),Number(g[1].decimals)):n=Object(u.c)(new l.a(g[1].balance),Number(g[1].decimals)),f((t*p[0]+n*p[1])/O),v(p[2]),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Unable to fetch data:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()()}}),[k.utils,e,t,n,f,v,r,b]),e?{LPPrice:h,rewardPrice:x}:{LPPrice:0,rewardPrice:0}}},1889:function(e,t,n){"use strict";var r=n(38),c=n(12),a=n(412),i=n.n(a),o=n(0),s={hydrate:i.a,dehydrate:i.a};t.a=function(e,t){var n=Object(c.a)(Object(c.a)({},s),t),a=n.localStorageKey,i=n.hydrate,l=n.dehydrate,u=Object(o.useState)((function(){try{var t=localStorage.getItem(a);return t?i(JSON.parse(t)):e}catch(n){return e}})),d=Object(r.a)(u,2),b=d[0],j=d[1];return Object(o.useEffect)((function(){localStorage.setItem(a,JSON.stringify(l(b)))}),[b,a,l]),[b,j]}},1890:function(e,t,n){"use strict";var r=n(0),c=n.n(r);t.a=function(e){var t=c.a.useRef();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}},1891:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r={latin_map:{"\u03c4":"t","\u03a4":"T"}},c=function(e){return e.replace(/[^A-Za-z0-9[\] ]/g,(function(e){return r.latin_map[e]||e}))}},1931:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(46),c=function(){return Object(r.c)((function(e){return e.block}))}},1958:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,i=n(38),o=n(90),s=n(0),l=n(104),u=n(8),d=n(280),b=n.n(d),j=n(185),O=n(14),m=Object(u.e)(l.g)(r||(r=Object(o.a)(["\n  margin-left: auto;\n  background-color: ",";\n  border-radius: 5px;\n  width: 200px;\n"])),(function(e){return e.theme.colors.MGG_container})),h=u.e.div(c||(c=Object(o.a)(["\n  position: relative;\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),f=u.e.div(a||(a=Object(o.a)([""]))),p=function(e){var t=e.onChange,n=e.placeholder,r=void 0===n?"Search":n,c=Object(s.useState)(!1),a=Object(i.a)(c,2),o=a[0],l=a[1],u=Object(s.useState)(""),d=Object(i.a)(u,2),p=d[0],g=d[1],x=Object(j.b)().t,v=Object(s.useMemo)((function(){return b()((function(e){return t(e)}),500)}),[t]);return Object(O.jsx)(f,{toggled:o,children:Object(O.jsx)(h,{children:Object(O.jsx)(m,{value:p,onChange:function(e){g(e.target.value),v(e)},placeholder:x(r),onBlur:function(){return l(!1)}})})})}},2181:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ne}));var r,c,a,i=n(56),o=n(12),s=n(38),l=n(16),u=n.n(l),d=n(214),b=n(8),j=n(0),O=n(63),m=n(89),h=n(2186),f=n(29),p=n(338),g=n(528),x=n(1891),v=n(534),k=n(1889),w=n(104),y=n(98),P=n(1958),C=n(90),S=n(14);!function(e){e.TABLE="TABLE",e.CARD="CARD"}(a||(a={}));b.e.div(r||(r=Object(C.a)(["\n  margin-right: 0px;\n  margin-left: -8px;\n\n  "," {\n    margin-left: 0;\n    margin-right: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Object(b.e)(y.v)(c||(c=Object(C.a)(["\n  border-radius: 5px;\n  ","\n"])),(function(e){var t=e.active,n=e.theme;return t&&"\n  background-color: ".concat(n.colors.primary,";\n")}));var G,T,D,E,R,F,I,A,B,M,N,L,_,z,V,Q,q,U,J,Y,W=b.e.div(G||(G=Object(C.a)(["\n  background-color: ",";\n  padding: 0px 0px;\n  margin-bottom: 3rem;\n  position: relative;\n  ","\n"])),(function(e){return e.theme.colors.MGG_active}),(function(e){var t=e.src;return"&:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    opacity: 0.2;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n    background-image: url(".concat(null!==t&&void 0!==t?t:"/MGGblank.png",");\n    background-repeat: no-repeat;\n    // background-attachment: fixed;\n    background-position: center;\n    background-size: cover;\n  }")})),X=b.e.div(T||(T=Object(C.a)(["\n  background: linear-gradient(0deg, rgb(0 0 0) 0%, rgb(0 0 0 / 50%) 25%, rgba(36, 121, 9, 0) 75%);\n  width: 100%;\n  height: 100%;\n  display: flex;\n"]))),K=b.e.img(D||(D=Object(C.a)(["\n  width: 200px;\n  margin: 0 auto;\n  padding: 1rem 1.5rem;\n"]))),Z=function(){return Object(S.jsx)(W,{children:Object(S.jsx)(X,{children:Object(S.jsx)(K,{src:"./MGG.png",alt:"mgg-logo"})})})},H=n(185),$=function(e){var t,n=e.tabState,r=e.tabAction,c=(Object(O.i)().url,Object(H.b)().t);switch(n){case"":t=0;break;case"RENDER_ENDED":t=1;break;default:t=0}return Object(S.jsxs)(ee,{children:[Object(S.jsx)(te,{activeIndex:0===t,onClick:function(){return r("")},children:c("Live")}),Object(S.jsx)(te,{activeIndex:1===t,onClick:function(){return r("RENDER_ENDED")},children:c("Finished")})]})},ee=b.e.div(E||(E=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 5rem;\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n  "," {\n    margin-left: 16px;\n  }\n  // & :first-child {\n  //   border-radius: 5rem;\n  // }\n  // & :last-child {\n  //   border-radius: 0rem 5rem 5rem 0rem;\n  // }\n"])),(function(e){return e.theme.colors.MGG_container}),(function(e){return e.theme.mediaQueries.sm})),te=Object(b.e)(w.b)(R||(R=Object(C.a)(["\n  background-color: ",";\n  border: none;\n  border-radius: 5rem;\n"])),(function(e){var t=e.activeIndex,n=e.theme;return t?n.colors.MGG_active:"transparent"})),ne=n(1838),re=b.e.div(F||(F=Object(C.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 60px auto;\n"]))),ce=function(e){var t=e.title;Object(H.b)().t;return Object(S.jsxs)(re,{children:[Object(S.jsx)("img",{src:"/logo.png",alt:"LogoIcon",width:"64px",style:{marginBottom:"8px"}}),Object(S.jsx)(ne.j,{mb:"16px",children:"No ".concat(t," Found")})]})},ae=b.e.div(I||(I=Object(C.a)(["\n  display: flex;\n  align-items: center;\n"]))),ie=(Object(b.e)(w.b)(A||(A=Object(C.a)(["\n  width: 10rem;\n"]))),Object(b.e)(w.b)(B||(B=Object(C.a)(["\n  padding: 1rem;\n  background-color: ",";\n"])),(function(e){var t=e.isGrid,n=e.theme;return t?n.colors.MGG_active:n.colors.MGG_container})),Object(b.e)(w.e)(M||(M=Object(C.a)(["\n  align-items: center;\n  text-align: center;\n  flex-flow: row;\n  column-gap: 0.5rem;\n  margin: 0.5rem 5px;\n"])))),oe=Object(b.e)(w.e)(N||(N=Object(C.a)(["\n  flex-flow: row-wrap;\n  justify-content: space-between;\n  margin-bottom: 2rem;\n"]))),se=Object(b.e)(oe)(L||(L=Object(C.a)(["\n  flex-direction: column;\n  padding: 1rem;\n  align-items: center;\n  "," {\n    flex-wrap: wrap;\n    flex-direction: row;\n    padding: 0rem;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),le=Object(b.e)(oe)(_||(_=Object(C.a)(["\n  flex-direction: column;\n  min-height: 35vh;\n"]))),ue=Object(b.e)(w.e)(z||(z=Object(C.a)(["\n  width: 100%;\n  flex-direction: column;\n  & > * {\n    margin: 0rem;\n  }\n  "," {\n    flex-direction: row;\n    & > * {\n      margin: 0rem 1rem;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),de=Object(b.e)(w.b)(V||(V=Object(C.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  width: 200px;\n  border: 2px solid ",";\n"])),(function(e){return e.theme.colors.MGG_mainBG}),(function(e){return e.theme.colors.MGG_active})),be=b.e.div(Q||(Q=Object(C.a)(["\n  padding: 0rem;\n  "," {\n    padding: 3.5rem;\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),je=n(135),Oe=n(1902),me=n(67),he=n(18),fe=n(1870),pe=n(1890),ge=n(49),xe=b.e.button(q||(q=Object(C.a)(["\n  width: 100%;\n  position: relative;\n  min-width: 20rem;\n  min-height: 12rem;\n  cursor: pointer;\n  border: none;\n  padding: 0;\n  text-align: left;\n  flex: 1;\n  display: flex;\n  align-items: stretch;\n  margin: 1rem 0rem;\n  background-color: ",";\n  ","\n  & > * {\n    flex: 1;\n  }\n"])),(function(e){var t=e.bgColor;return null!==t&&void 0!==t?t:"#030f62"}),(function(e){var t=e.src;return"&:before {\n      content: '';\n      position: absolute;\n      left: 0;\n      top: 0;\n      opacity: 0.2;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n      background-image: url(".concat(null!==t&&void 0!==t?t:"./MGG.png",");\n      background-repeat: no-repeat;\n      // background-attachment: fixed;\n      background-position: center;\n      background-size: cover;\n    }")})),ve=b.e.div(U||(U=Object(C.a)(["\n  display: grid;\n  position: relative;\n  padding: 1rem 1.5rem;\n  background: linear-gradient(0deg, rgb(0 0 0) 0%, rgb(0 0 0 / 50%) 25%, rgba(36, 121, 9, 0) 75%);\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  grid-template-columns: 1fr 1fr;\n"]))),ke=b.e.img(J||(J=Object(C.a)(["\n  border-radius: 50%;\n  height: ",";\n  width: ",";\n  z-index: 2;\n  @media (max-width: 500px) {\n    height: ",";\n    width: ",";\n  }\n"])),(function(e){var t=e.size;return t||"80px"}),(function(e){var t=e.size;return t||"80px"}),(function(e){var t=e.size;return t||"50px"}),(function(e){var t=e.size;return t||"50px"})),we=b.e.div(Y||(Y=Object(C.a)(["\n  ","\n"])),(function(e){return e.type?"\n      padding: 0.2rem 0.5rem;\n      border: thin solid white;\n      border-radius: 0.3rem;\n    ":"\n      padding: 0.2rem 0.5rem;\n      background-color: rgb(0,196,204);\n      border-radius: 0.3rem;\n    "})),ye=n(33),Pe=function(e){var t,n=Object(he.a)("BNB"===e.symbol?me.a.wbnb.address:e.address);return"/images/tokens/".concat(n,".").concat(null!==(t=e.iconExtension)&&void 0!==t?t:"svg")},Ce=function(e){e.bgColor;var t,n=e.src,r=void 0===n?"./MGG.png":n,c=(e.userDataReady,e.farm),a=(e.removed,e.cakePrice,e.account,e.isNew),i=Object(j.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],b=Object(m.c)().chainId,O=b?b.toString():ye.n,h=(Object(ge.c)(new u.a(null!==(t=c.totalDeposits)&&void 0!==t?t:0)),Object(fe.a)(c,O,l)),f=h.LPPrice,p=h.rewardPrice,x=Object(pe.a)(f),v=Object(pe.a)(p);Object(j.useEffect)((function(){(f>0||p>0)&&d(!1),setTimeout((function(){d(!0),d(f!==x||p!==v)}),6e4),x!==f&&v!==p||d(!1)}),[f,p,d,x,v]);var k=Object(j.useMemo)((function(){return Object(g.b)(f,p,Number(c.totalDeposits),Number(c.rewardRate))}),[f,p,c.totalDeposits,c.rewardRate]),P=k>0?"".concat(k.toFixed(2)," %"):Object(S.jsx)(Oe.Oval,{width:"20px",height:"20px"});return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(xe,{src:r,bgColor:c.UIProps?c.UIProps.bgColor:null,className:"shodow-pop",style:{cursor:"pointer"},children:Object(S.jsx)(je.b,{to:"/gamefi/".concat("LP","/",c.pid),children:Object(S.jsxs)(ve,{children:[Object(S.jsx)(ke,{size:"3.5rem",src:Pe(c.quoteToken)}),Object(S.jsxs)(y.s,{style:{flexFlow:"row wrap",columnGap:"0.5rem",justifyContent:"end"},children:[a&&Object(S.jsx)("div",{children:Object(S.jsx)(we,{children:Object(S.jsx)(w.p,{color:"white",children:"New"})})}),Object(S.jsx)(ke,{size:"2rem",src:Pe(c.pairToken)}),Object(S.jsx)("div",{children:Object(S.jsx)(we,{type:1,children:Object(S.jsx)(w.p,{color:"white",children:"LP Staking"})})})]}),Object(S.jsx)(y.s,{style:{alignItems:"end"},children:Object(S.jsxs)("div",{children:[Object(S.jsx)(w.p,{color:"white",children:c.lpSymbol}),Object(S.jsx)(w.f,{color:"white",children:c.name})]})}),Object(S.jsx)(y.s,{style:{justifyContent:"end",alignItems:"end"},children:Object(S.jsxs)("div",{style:{textAlign:"end"},children:[Object(S.jsxs)(w.p,{color:"white",children:["APR ",P]}),Object(S.jsxs)(w.f,{color:"white",children:[c.remainingDays," Days Left"]})]})})]})})})})},Se=n(58),Ge=n(526),Te=n(1931),De=function(e){var t,n=Object(he.a)("BNB"===e.symbol?me.a.wbnb.address:e.address);return"/images/tokens/".concat(n,".").concat(null!==(t=e.iconExtension)&&void 0!==t?t:"svg")},Ee=function(e){e.bgColor;var t,n=e.src,r=void 0===n?"./MGG.png":n,c=(e.userDataReady,e.pool),a=(e.account,e.isNew),i=(c.sousId,c.stakingToken),o=c.earningToken,s=(c.isFinished,c.userData),l=(c.startBlock,c.endBlock,c.isComingSoon),d=c.poolCategory,b=(c.stakingTokenPrice,c.totalStaked?Object(ge.c)(new u.a(c.totalStaked.toString()),i.decimals):0),j=(null===c||void 0===c?void 0:c.tokenPerBlock)?Object(ge.c)(new u.a(c.tokenPerBlock.toString()),o.decimals):0,O=new u.a(c.tokenPerBlock).times(new u.a(s.stakedBalance).div(c.totalStaked)),m=((null===c||void 0===c?void 0:c.tokenPerBlock)&&Object(ge.c)(O),Object(Te.a)().currentBlock),h=(Object(he.a)(c.contractAddress),Object(Ge.e)(c,m)),p=(h.shouldShowBlockCountdown,h.blocksUntilStart,h.blocksRemaining),x=(h.hasPoolStarted,h.blocksToDisplay,(null===s||void 0===s?void 0:s.stakingTokenBalance)?new u.a(s.stakingTokenBalance):Se.b,Object(fe.b)(i.address[56],o.address[56])),v=x.stakingPrice,k=x.rewardPrice,P=(f.d.BINANCE,null!==(t=Object(g.c)(v,k,b,j))&&void 0!==t?t:0),C=P>0?"".concat(P.toFixed(2)," %"):Object(S.jsx)(Oe.Oval,{width:"20px",height:"20px"});return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(xe,{src:r,bgColor:c.UIProps.bgColor,className:"shodow-pop",style:{cursor:"pointer"},children:Object(S.jsx)(je.b,{to:"/gamefi/".concat("Pools","/",c.sousId),children:Object(S.jsxs)(ve,{children:[Object(S.jsx)(ke,{size:"3.5rem",src:De(i)}),Object(S.jsxs)(y.s,{style:{flexFlow:"row wrap",columnGap:"0.5rem",justifyContent:"end"},children:[a&&Object(S.jsx)("div",{children:Object(S.jsx)(we,{children:Object(S.jsx)(w.p,{color:"white",children:"New"})})}),Object(S.jsx)(ke,{size:"2rem",src:De(o)}),Object(S.jsx)("div",{children:Object(S.jsx)(we,{type:1,children:Object(S.jsx)(w.p,{color:"white",children:"Pool Based"})})})]}),Object(S.jsx)(y.s,{style:{alignItems:"end"},children:Object(S.jsxs)("div",{children:[Object(S.jsx)(w.p,{color:"white",children:"".concat(i.symbol,"-").concat(o.symbol," Staking")}),Object(S.jsx)(w.f,{color:"white",children:c.name})]})}),Object(S.jsx)(y.s,{style:{justifyContent:"end",alignItems:"end"},children:c.poolCategory===f.d.FIXEDAPR?Object(S.jsx)("div",{style:{textAlign:"end"},children:Object(S.jsx)(w.p,{color:"white",children:"FIXED APR"})}):Object(S.jsxs)("div",{style:{textAlign:"end"},children:[Object(S.jsxs)(w.p,{color:"white",children:["APR ",C]}),Object(S.jsxs)(w.f,{color:"white",children:[!l&&"".concat(Object(ge.a)(p,0,0))," ",l&&"-"," blocks"]})]})})]})})})})},Re=n(2184),Fe=n(2185),Ie=n(2178),Ae=n(2174),Be=["Apy","Rate"],Me=function(e){var t=e.handleSortBy,n=e.sortBy,r=Object(j.useContext)(b.a);return Object(S.jsxs)(Re.a,{sx:{m:1,minWidth:120},style:{border:"none",backgroundColor:r.colors.MGG_container,borderRadius:"5px"},size:"small",children:[Object(S.jsx)(Fe.a,{id:"select-helper-label",children:Object(S.jsx)(w.p,{color:"textSubtle",children:"Select"})}),Object(S.jsxs)(Ae.a,{labelId:"select-helper-label",id:"select-helper",value:n,label:"Sort",onChange:function(e){t(e.target.value)},style:{color:r.colors.textSubtle},children:[Object(S.jsx)(Ie.a,{value:"",children:Object(S.jsx)("em",{children:"None"})}),Be.map((function(e){return Object(S.jsx)(Ie.a,{value:e.toLowerCase(),children:e})}))]})]})},Ne=function(){Object(j.useContext)(b.a);var e=Object(j.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(m.c)().account,l=(Object(O.i)().path,Object(O.h)().pathname),C=Object(j.useState)(""),G=Object(s.a)(C,2),T=G[0],D=G[1],E=Object(j.useState)(""),R=Object(s.a)(E,2),F=R[0],I=R[1],A=Object(k.a)(a.TABLE,{localStorageKey:"mgg_vaults_view"}),B=Object(s.a)(A,2),M=(B[0],B[1],Object(p.c)()),N=M.data,L=(M.userDataLoaded,Object(p.m)(c).pools),_=Object(p.n)(),z=l.includes("archived"),V=!0,Q=Object(p.b)(),q=Q.userData,U=(q.cakeAtLastUserAction,q.userShares),J=(Q.fees.performanceFee,Q.pricePerFullShare,Q.totalCakeInVault,U&&U.gt(0));Object(p.l)(z),Object(p.d)(),Object(p.f)();var Y=!c,W=Object(j.useState)(!1),X=Object(s.a)(W,2),K=X[0],H=X[1];Object(j.useEffect)((function(){H(!1)}),[V]);var ee=N.filter((function(e){return 0!==e.pid&&!e.hasEnded&&e.isMain&&!Object(v.b)(e.pid)})),te=N.filter((function(e){return 0!==e.pid&&!e.hasEnded&&!e.isMain&&!Object(v.b)(e.pid)})),ne=N.filter((function(e){return 0!==e.pid&&e.hasEnded&&!Object(v.b)(e.pid)})),re=N.filter((function(e){return Object(v.b)(e.pid)})),oe=te.filter((function(e){return e.userData&&!e.isMain&&new u.a(e.userData.stakedBalance).isGreaterThan(0)})),je=ne.filter((function(e){return e.userData&&!e.isMain&&new u.a(e.userData.stakedBalance).isGreaterThan(0)})),Oe=(re.filter((function(e){return e.userData&&new u.a(e.userData.stakedBalance).isGreaterThan(0)})),Object(j.useRef)(null),Object(j.useCallback)((function(e){var t=e.map((function(e){if(!e.lpTotalInQuoteToken||!e.quoteToken.busdPrice)return e;var t=new u.a(e.lpTotalInQuoteToken).times(e.quoteToken.busdPrice),n=Object(g.a)(new u.a(e.poolWeight),_,t);return Object(o.a)(Object(o.a)({},e),{},{apr:n,liquidity:t})}));if(n){var r=Object(x.a)(n.toLowerCase());t=t.filter((function(e){return Object(x.a)(e.lpSymbol.toLowerCase()).includes(r)||Object(x.a)(e.quoteToken.symbol.toLowerCase()).includes(r)}))}return t}),[_,n,V])),me=Object(j.useCallback)((function(e){return e.map((function(e){if(!e.lpTotalInQuoteToken||!e.quoteToken.busdPrice)return e;var t=new u.a(e.lpTotalInQuoteToken).times(e.quoteToken.busdPrice),n=Object(g.a)(new u.a(e.poolWeight),_,t);return Object(o.a)(Object(o.a)({},e),{},{apr:n,liquidity:t})}))}),[_,V]),he=L.filter((function(e){return e.poolCategory===f.d.FIXEDAPR})),fe=Object(j.useMemo)((function(){var e=he.map((function(e){return 0===e.sousId}));Object(o.a)(Object(o.a)({},e),{},{isAutoVault:!0});return Object(i.a)(he)}),[he]),pe=Object(j.useMemo)((function(){return Object(d.partition)(fe,(function(e){return e.isFinished}))}),[fe]),ge=Object(s.a)(pe,2),xe=ge[0],ve=ge[1],ke=Object(j.useMemo)((function(){return xe.filter((function(e){return e.isAutoVault?J:e.userData&&new u.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[xe,J]),we=Object(j.useMemo)((function(){return ve.filter((function(e){return e.isAutoVault?J:e.userData&&new u.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[ve,J]),ye=Object(j.useMemo)((function(){var e={activeFarms:[],inactiveFarms:[],activePools:[],inactivePools:[],mggFarms:[],mggPools:[]};return K?(e.activeFarms=Oe(oe),e.inactiveFarms=Oe(je),e.activePools=we.filter((function(e){return!e.isMain})),e.inactivePools=ke.filter((function(e){return!e.isMain}))):(e.activeFarms=Oe(te),e.inactiveFarms=Oe(ne),e.activePools=ve.filter((function(e){return!e.isMain})),e.inactivePools=xe.filter((function(e){return!e.isMain}))),e.mggPools=ve.filter((function(e){return e.isMain})),e.mggFarms=me(ee),e}),[Oe,me,ee,te,ne,je,K,oe,xe,ve,we,ke]),Pe=function(e){var t=e.RENDER_TYPE;return Object(S.jsx)("div",{style:{marginTop:"25x",paddingTop:"25px"},children:Object(S.jsx)("div",{style:{display:"flex",flexFlow:"row wrap",justifyContent:"space-evenly",columnGap:"2rem",rowGap:"2rem"},children:function(e){switch(e){case"MGG_VAULTS":return 0!==ye.mggFarms.length||0!==ye.mggPools.length?Object(S.jsxs)(ue,{children:[0!==ye.mggFarms.length&&Object(S.jsx)(h.a,{container:!0,spacing:{md:4},children:ye.mggFarms.map((function(e){return Object(S.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(Ce,{userDataReady:Y,farm:e,cakePrice:_,account:c,removed:!1})},e.pid)}))}),0!==ye.mggPools.length&&Object(S.jsx)(h.a,{container:!0,spacing:{md:4},children:ye.mggPools.map((function(e){return Object(S.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(Ee,{userDataReady:Y,pool:e,cakePrice:_,account:c,removed:!1,bgColor:"#b10303d6"})},e.sousId)}))})]}):Object(S.jsx)(ce,{title:"MGG Vaults"});case"RENDER_ENDED":return 0!==ye.inactiveFarms.length||0!==ye.inactivePools.length?Object(S.jsxs)(ue,{children:[0!==ye.inactiveFarms.length&&Object(S.jsx)(h.a,{container:!0,spacing:{md:4},children:ye.inactiveFarms.map((function(e){return Object(S.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(Ce,{userDataReady:Y,farm:e,cakePrice:_,account:c,removed:!1})},e.pid)}))}),0!==ye.inactivePools.length&&Object(S.jsx)(h.a,{container:!0,spacing:{md:4},children:ye.inactivePools.map((function(e){return Object(S.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(Ee,{userDataReady:Y,pool:e,cakePrice:_,account:c,removed:!1,bgColor:"#b10303d6"})},e.sousId)}))})]}):Object(S.jsx)(ce,{title:"Inactive Vaults"});default:return 0!==ye.activeFarms.length||0!==ye.activePools.length?Object(S.jsxs)(ue,{children:[0!==ye.activeFarms.length&&Object(S.jsx)(h.a,{container:!0,spacing:4,children:ye.activeFarms.map((function(e){return Object(S.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(Ce,{userDataReady:Y,farm:e,cakePrice:_,account:c,removed:!1})},e.pid)}))}),0!==ye.activePools.length&&Object(S.jsx)(h.a,{container:!0,spacing:2,children:ye.activePools.map((function(e){return Object(S.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(S.jsx)(Ee,{userDataReady:Y,pool:e,cakePrice:_,account:c,removed:!1,bgColor:"#b10303d6"})},e.sousId)}))})]}):Object(S.jsx)(ce,{title:"Active Vaults"})}}(t)})})};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Z,{}),Object(S.jsxs)(be,{children:[Object(S.jsxs)(le,{children:[Object(S.jsx)(w.f,{size:"xl",children:"MGG Vaults"}),Pe({RENDER_TYPE:"MGG_VAULTS"})]}),Object(S.jsxs)(se,{children:[Object(S.jsx)(ie,{children:Object(S.jsx)(de,{children:Object(S.jsx)(w.p,{children:"FILTER"})})}),Object(S.jsx)(ie,{children:Object(S.jsx)($,{tabAction:function(e){I(e)},tabState:F})}),Object(S.jsx)(ie,{children:Object(S.jsxs)(ae,{children:[Object(S.jsx)(y.L,{checked:K,onChange:function(){return H(!K)},scale:"sm"}),Object(S.jsx)(w.p,{marginLeft:"10px",children:" Staked only"})]})}),Object(S.jsxs)(ie,{children:[Object(S.jsx)(w.p,{textTransform:"uppercase",children:"Search"}),Object(S.jsx)(P.a,{onChange:function(e){r(e.target.value)},placeholder:"Search Vaults"})]}),Object(S.jsxs)(ie,{children:[Object(S.jsx)(w.p,{children:"SORT BY:"}),Object(S.jsx)(Me,{handleSortBy:D,sortBy:T})]})]}),Object(S.jsxs)(le,{children:[Object(S.jsxs)(w.f,{size:"xl",children:[""===F?"Live":"Past"," Vaults"]}),Pe({RENDER_TYPE:F})]})]})]})}}}]);
//# sourceMappingURL=17.7dd18164.chunk.js.map